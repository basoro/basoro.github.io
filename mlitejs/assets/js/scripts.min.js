!function(e){"use strict";e.selectator=function(t,n){var i={prefix:"selectator_",height:"auto",useDimmer:!1,useSearch:!0,showAllOptionsOnFocus:!1,selectFirstOptionOnSearch:!0,keepOpen:!1,submitCallback:function(){},load:null,delay:0,minSearchLength:0,valueField:"value",textField:"text",searchFields:["value","text"],placeholder:"",render:{selected_item:function(e,t){var n="";return void 0!==e.font&&(n+='<div class="'+o.options.prefix+'selected_item_left">'+e.font+"</div>"),void 0!==e.left&&(n+='<div class="'+o.options.prefix+'selected_item_left"><img src="'+t(e.left)+'" alt=""></div>'),void 0!==e.right&&(n+='<div class="'+o.options.prefix+'selected_item_right">'+t(e.right)+"</div>"),n+='<div class="'+o.options.prefix+'selected_item_title">'+(void 0!==e.text?t(e.text):"")+"</div>",void 0!==e.subtitle&&(n+='<div class="'+o.options.prefix+'selected_item_subtitle">'+t(e.subtitle)+"</div>"),n+='<div class="'+o.options.prefix+'selected_item_remove">X</div>'},option:function(e,t){var n="";return void 0!==e.font&&(n+='<div class="'+o.options.prefix+'option_left">'+e.font+"</div>"),void 0!==e.left&&(n+='<div class="'+o.options.prefix+'option_left"><img src="'+t(e.left)+'" alt=""></div>'),void 0!==e.right&&(n+='<div class="'+o.options.prefix+'option_right">'+t(e.right)+"</div>"),n+='<div class="'+o.options.prefix+'option_title">'+(void 0!==e.text?t(e.text):"")+"</div>",void 0!==e.subtitle&&(n+='<div class="'+o.options.prefix+'option_subtitle">'+t(e.subtitle)+"</div>"),n}},labels:{search:"Search..."}},o=this;o.options={},o.$source_element=e(t),o.$container_element=null,o.$selecteditems_element=null,o.$input_element=null,o.$textlength_element=null,o.$options_element=null,o.$mask_element=null,o.usefilterResults=!0;var s=void 0===o.$source_element.attr("multiple"),l=!s,a=!1,r=!0,c=null,p=8,d=9,m=13,u=16,f=27,h=37,v=38,_=39,$=40,g=41;o.init=function(){o.options=e.extend(!0,{},i,n),e.each(o.$source_element.data(),(function(e,t){"selectator"===e.substring(0,10)&&(o.options[e.substring(10,11).toLowerCase()+e.substring(11)]=t)})),o.options.searchFields="string"==typeof o.options.searchFields?o.options.searchFields.split(" "):o.options.searchFields,o.$source_element.find("option").each((function(){e(this).data("value",this.value),e(this).data("text",this.text)})),a=null!==o.options.load,o.$mask_element=e("#"+o.options.prefix+"mask"),0===o.$mask_element.length&&(o.$mask_element=e(document.createElement("div")),o.$mask_element.attr("id",o.options.prefix+"mask"),o.$mask_element.attr("onclick","void(0)"),o.$mask_element.on("click",(function(){e(":focus").blur()})),o.$mask_element.hide(),e(document.body).prepend(o.$mask_element)),o.$source_element.addClass("selectator"),o.$source_element.attr("placeholder")&&(o.options.placeholder=o.$source_element.attr("placeholder")),o.$container_element=e(document.createElement("div")),void 0!==o.$source_element.attr("id")&&o.$container_element.attr("id",o.options.prefix+o.$source_element.attr("id")),o.$container_element.addClass(o.options.prefix+"element "+(l?"multiple ":"single ")+"options-hidden"),o.options.useSearch||o.$container_element.addClass("disable_search"),o.$container_element.css({width:o.$source_element.css("width"),minHeight:o.$source_element.css("height"),padding:o.$source_element.css("padding"),"flex-grow":o.$source_element.css("flex-grow"),position:"relative"}),"element"===o.options.height&&o.$container_element.css({height:o.$source_element.outerHeight()+"px"}),o.$textlength_element=e(document.createElement("span")),o.$textlength_element.addClass(o.options.prefix+"textlength"),o.$textlength_element.css({position:"absolute",visibility:"hidden"}),o.$container_element.append(o.$textlength_element),o.$selecteditems_element=e(document.createElement("div")),o.$selecteditems_element.addClass(o.options.prefix+"selected_items"),o.$container_element.append(o.$selecteditems_element),o.$input_element=e(document.createElement("input")),o.$input_element.addClass(o.options.prefix+"input"),o.$input_element.attr("tabindex",o.$source_element.attr("tabindex")),o.options.useSearch?s?o.$input_element.attr("placeholder",o.options.labels.search):(""!==o.options.placeholder&&o.$input_element.attr("placeholder",o.options.placeholder),o.$input_element.width(20)):(o.$input_element.attr("readonly",!0),o.$input_element.css({width:"0px",height:"0px",overflow:"hidden",border:0,padding:0,position:"absolute"})),o.$input_element.attr("autocomplete","false"),o.$container_element.append(o.$input_element),o.$options_element=e(document.createElement("ul")),o.$options_element.addClass(o.options.prefix+"options"),o.$container_element.append(o.$options_element),o.$source_element.after(o.$container_element),o.$source_element.hide(),o.$source_element.change((function(){b()})),o.$container_element.on("focus",(function(){o.$input_element.focus(),o.$input_element.trigger("focus")})),o.$container_element.on("mousedown",(function(e){if(e.preventDefault(),o.$input_element.focus(),o.$input_element.trigger("focus"),o.$input_element[0].setSelectionRange)o.$input_element[0].setSelectionRange(o.$input_element.val().length,o.$input_element.val().length);else if(o.$input_element[0].createTextRange){var t=o.$input_element[0].createTextRange();t.collapse(!0),t.moveEnd("character",o.$input_element.val().length),t.moveStart("character",o.$input_element.val().length),t.select()}})),o.$container_element.on("click",(function(){o.$input_element.focus(),o.$input_element.trigger("focus")})),o.$container_element.on("dblclick",(function(){o.$input_element.select(),o.$input_element.trigger("focus")})),o.$input_element.on("keydown",(function(e){var t=null,n=null;switch(e.keyCode||e.which){case v:e.preventDefault(),S(),0!==(t=o.$options_element.find(".active")).length?(n=t.prevUntil("."+o.options.prefix+"option:visible").add(t).first().prev("."+o.options.prefix+"option:visible"),t.removeClass("active"),n.addClass("active")):o.$options_element.find("."+o.options.prefix+"option").filter(":visible").last().addClass("active"),F();break;case $:e.preventDefault(),S(),0!==(t=o.$options_element.find(".active")).length?(n=t.nextUntil("."+o.options.prefix+"option:visible").add(t).last().next("."+o.options.prefix+"option:visible"),t.removeClass("active"),n.addClass("active")):o.$options_element.find("."+o.options.prefix+"option").filter(":visible").first().addClass("active"),F();break;case f:e.preventDefault();break;case m:e.preventDefault(),0!==(t=o.$options_element.find(".active")).length?O():""!==o.$input_element.val()&&o.options.submitCallback(o.$input_element.val()),x();break;case p:if(o.options.useSearch){if(""===o.$input_element.val()&&l&&o.$source_element.find("option:selected").length){var i=o.$source_element.find("option:selected").last()[0];i.removeAttribute("selected"),i.selected=!1,o.$source_element.trigger("change"),b()}x()}else e.preventDefault();break;default:x()}})),o.$input_element.on("keyup",(function(e){e.preventDefault(),e.stopPropagation();var t=e.which;switch(t){case f:D();break;case m:o.options.keepOpen||D();break;case g:case h:case _:case v:case $:case d:case u:break;default:k()}!o.$container_element.hasClass("options-hidden")||t!==g&&t!==h&&t!==_&&t!==v&&t!==$||S(),x()})),o.$input_element.on("focus",(function(){o.$container_element.addClass("focused"),(s||o.options.showAllOptionsOnFocus||!o.options.useSearch)&&(!o.options.useSearch&&a&&k(),S())})),o.$input_element.on("blur",(function(){o.$container_element.removeClass("focused"),D()})),o.$container_element.on("mousedown","."+o.options.prefix+"selected_item_remove",(function(e){e.preventDefault(),e.stopPropagation(),o.removeSelection()})),o.$container_element.on("mouseover","."+o.options.prefix+"option",(function(){o.$options_element.find(".active").removeClass("active"),e(this).addClass("active")})),o.$container_element.on("mousedown","."+o.options.prefix+"option",(function(e){e.preventDefault(),e.stopPropagation()})),o.$container_element.on("mouseup","."+o.options.prefix+"option",(function(){O()})),o.$container_element.on("click","."+o.options.prefix+"option",(function(t){t.stopPropagation(),o.$options_element.find(".active").removeClass("active"),e(this).addClass("active")})),o.options.$source_element=o.$source_element,o.options.$container_element=o.$container_element,o.options.$selecteditems_element=o.$selecteditems_element,o.options.$input_element=o.$input_element,o.options.$textlength_element=o.$textlength_element,o.options.$options_element=o.$options_element,w(),b(),x()};var x=function(){if(l){o.$textlength_element.text(""===o.$input_element.val()&&""!==o.options.placeholder?o.options.placeholder:o.$input_element.val());var e=o.$textlength_element.width()>o.$container_element.width()-30?o.$container_element.width()-30:o.$textlength_element.width()+30;o.$input_element.css({width:e+"px"})}},b=function(){o.$selecteditems_element.empty(),o.$source_element.find("option").each((function(){var t=e(this);if(this.selected){var n=e(document.createElement("div"));n.data("source_item_element",this),n.addClass(o.options.prefix+"selected_item"),n.addClass(o.options.prefix+"value_"+t.val().replace(/\W/g,"")),void 0!==t.attr("class")&&n.addClass(t.attr("class"));var i={value:this.value,text:this.text};e.each(this.attributes,(function(){this.specified&&(i[this.name.replace("data-","")]=this.value)})),e.extend(i,e(this).data("item_data")),n.append(o.options.render.selected_item(i,R)),!s||""!==i[o.options.valueField]&&void 0!==i[o.options.valueField]&&0!==o.$source_element.find('[value=""]').length||n.find("."+o.options.prefix+"selected_item_remove").remove(),o.$selecteditems_element.append(n)}})),s&&(""===o.options.placeholder||""!==o.$source_element.val()&&null!==o.$source_element.val()?o.$selecteditems_element.find("."+o.options.prefix+"placeholder").remove():(o.$selecteditems_element.empty(),o.$selecteditems_element.append('<div class="'+o.options.prefix+'placeholder">'+o.options.placeholder+"</div>")))},w=function(){o.$options_element.empty();var t=[];o.$source_element.children().each((function(){if("optgroup"===e(this).prop("tagName").toLowerCase()){var n=e(this);if(0!==n.children("option").length){var i=[];n.children("option").each((function(){i.push({type:"option",text:e(this).html(),element:this})})),t.push({type:"group",text:n.attr("label"),options:i,element:n})}}else t.push({type:"option",text:e(this).html(),element:this})})),e(t).each((function(){if("group"===this.type){var t=e(document.createElement("li"));t.addClass(o.options.prefix+"group"),void 0!==e(this.element).attr("class")&&t.addClass(e(this.element).attr("class")),t.html(e(this.element).attr("label")),o.$options_element.append(t),e(this.options).each((function(){var e=C.call(this.element,!0);o.$options_element.append(e)}))}else{var n=C.call(this.element,!1);o.$options_element.append(n)}})),y(o.usefilterResults)},C=function(t){var n=e(document.createElement("li"));n.data("source_option_element",this),n.attr("onclick","void(0)"),n.addClass(o.options.prefix+"option"),n.addClass(o.options.prefix+"value_"+e(this).val().replace(/\W/g,"")),t&&n.addClass(o.options.prefix+"group_option"),this.selected&&n.addClass("active"),void 0!==e(this).attr("class")&&n.addClass(e(this).attr("class"));var i={value:this.value,text:this.text};return e.each(this.attributes,(function(){this.specified&&(i[this.name.replace("data-","")]=this.value)})),e.extend(i,e(this).data("item_data")),l&&this.selected&&n.hide(),n.append(o.options.render.option(i,R)),n},k=function(){clearTimeout(c),c=setTimeout((function(){o.$container_element.addClass("loading"),a?o.options.load(o.$input_element.val(),(function(t,n){if(o.usefilterResults=void 0!==n&&n,o.$source_element.children("option").not(":selected").not('[value=""]').remove(),void 0!==t){var i=[];if(e.each(o.$source_element.children("option:selected"),(function(e,t){i.push(t.value)})),s&&0===o.$source_element.find('[value=""]').length&&o.$source_element.prepend(e('<option value="">&nbsp;</option>')),o.$input_element.val().replace(/\s/g,"").length>=o.options.minSearchLength)for(var l=0;l<t.length;l++){var a=t[l];if(-1===e.inArray(a[o.options.valueField]+"",i)){var r=e('<option value="'+a[o.options.valueField]+'">'+a[o.options.textField]+"</option>");o.$source_element.append(r),r.data("item_data",a)}}}w(),o.$container_element.removeClass("loading"),y(o.usefilterResults)})):(o.$container_element.removeClass("loading"),y(o.usefilterResults))}),o.options.delay)},y=function(t){t=void 0!==t&&t;var n=o.$input_element.val().replace(/\s/g,"").length<o.options.minSearchLength;r=!1;var i=o.$input_element.val().toLowerCase();o.$options_element.find("."+o.options.prefix+"option").each((function(){var l=e(this),a=l.data("source_option_element"),c=e(a),p=!1;e.each(o.options.searchFields,(function(e,t){if(void 0!==c.data(t)&&-1!==c.data(t).toString().toLowerCase().indexOf(i))return p=!0,!1})),!t&&!a.selected||t&&(!a.selected||s)&&(o.options.useSearch&&(n||p||""===c.val())||!o.options.useSearch)?(l.show(),r=r||!0):l.hide()})),o.$options_element.find("."+o.options.prefix+"group").each((function(){var t=e(this),n=!1;t.nextUntil("."+o.options.prefix+"group").each((function(){if("none"!==e(this).css("display"))return n=!0,!1})),n?t.show():t.hide()})),S(),l&&(o.$options_element.find(".active").removeClass("active"),n||o.$options_element.find("."+o.options.prefix+"option").filter(":visible").first().addClass("active"))},S=function(){!o.$input_element.is(":focus")||!r&&!s||o.$options_element.is(":empty")&&!o.options.useSearch?D():(o.$container_element.removeClass("options-hidden").addClass("options-visible"),o.$mask_element.show(),o.options.useDimmer?o.$mask_element.addClass(o.options.prefix+"mask_dimmed"):o.$mask_element.removeClass(o.options.prefix+"mask_dimmed"),setTimeout((function(){o.$options_element.css("top",o.$container_element.outerHeight()+(l?0:o.$input_element.outerHeight())-1+"px")}),1),F())},D=function(){o.$container_element.removeClass("options-visible").addClass("options-hidden"),o.$mask_element.removeClass(o.options.prefix+"mask_dimmed"),o.$mask_element.hide()},F=function(){var e=o.$options_element.find("."+o.options.prefix+"option.active");e.length>0&&o.$options_element.scrollTop(o.$options_element.scrollTop()+e.position().top-o.$options_element.height()/2+e.height()/2)},O=function(){if(s){var e=o.$source_element.find("option:selected").last()[0];e.removeAttribute("selected"),e.selected=!1}var t=o.$options_element.find(".active");t.data("source_option_element").setAttribute("selected",""),t.data("source_option_element").selected=!0,o.$source_element.trigger("change"),o.options.keepOpen||o.$input_element.val(""),y(o.usefilterResults),b(),x(),a&&!o.options.keepOpen&&(o.$source_element.children("option").not(":selected").not('[value=""]').remove(),w(),D()),o.options.keepOpen||D()},R=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};o.refresh=function(){b()},o.hideDropdown=function(){D()},o.removeSelection=function(){var e=o.$container_element.find("."+o.options.prefix+"selected_item").data("source_item_element");if(e.removeAttribute("selected"),e.selected=!1,s&&o.$source_element.find('[value=""]').length){var t=o.$source_element.find('[value=""]')[0];t.setAttribute("selected",""),t.selected=!0}o.$source_element.trigger("change"),y(o.usefilterResults),w(),b(),D()},o.destroy=function(){o.$container_element.remove(),e.removeData(t,"selectator"),o.$source_element.show(),0===e("."+o.options.prefix+"element").length&&o.$mask_element.remove()},o.init()},e.fn.selectator=function(t){var n=void 0!==t?t:{};return this.each((function(){var t=e(this);if("object"==typeof n){if(void 0===t.data("selectator")){var i=new e.selectator(this,n);t.data("selectator",i)}}else t.data("selectator")[n]?t.data("selectator")[n].apply(this,Array.prototype.slice.call(arguments,1)):e.error("Method "+n+" does not exist in $.selectator")}))}}(jQuery),$((function(){"use strict";$(".selectator").each((function(){var e=$(this),t={};$.each(e.data(),(function(e,n){"selectator"===e.substring(0,10)&&(t[e.substring(10,11).toLowerCase()+e.substring(11)]=n)})),$(".toggle-sidebar").on("click",(function(){$(".page-wrapper").toggleClass("toggled")})),$((function(){$("#loading-wrapper").fadeOut(500)}));[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)})),[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(e){return new bootstrap.Popover(e)}));if("active"===window.localStorage.getItem("pinned-sidebar")&&$(".page-wrapper").addClass("pinned"),"not_active"===window.localStorage.getItem("pinned-sidebar")&&$(".page-wrapper").removeClass("pinned"),$(".pin-sidebar").on("click",(function(){var e="";e="active"===window.localStorage.getItem("pinned-sidebar")?"not_active":"active",window.localStorage.setItem("pinned-sidebar",e),$(".page-wrapper").hasClass("pinned")?($(".page-wrapper").removeClass("pinned"),$("#sidebar").unbind("hover")):($(".page-wrapper").addClass("pinned"),$("#sidebar").hover((function(){console.log("mouseenter"),$(".page-wrapper").addClass("sidebar-hovered")}),(function(){console.log("mouseout"),$(".page-wrapper").removeClass("sidebar-hovered")})))})),$((function(){$(".page-wrapper").hasClass("pinned"),$("#sidebar").hover((function(){console.log("mouseenter"),$(".page-wrapper").addClass("sidebar-hovered")}),(function(){console.log("mouseout"),$(".page-wrapper").removeClass("sidebar-hovered")}))})),$("select").each((function(){var e={useDimmer:!0,useSearch:!1,labels:{search:"..."}};$.each($(this).data(),(function(t,n){e[t]=n})),$(this).selectator(e)})),$(document).on("click touchstart","[data-confirm]:not(.disabled):not([disabled])",(function(e){e.preventDefault();var t=$(this).attr("data-confirm"),n=$(this);bootbox.confirm({message:t,callback:function(e){e&&(n.is('[type="submit"]')?($(document).off("click touchstart","[data-confirm]:not(.disabled):not([disabled])"),n.click()):n.is("a")&&$(location).attr("href",n.attr("href")))}})})),$('a[data-toggle="modal"]').on("click",(function(e){var t=$(e.currentTarget).data("bs-target"),n=$(e.currentTarget).attr("href");if(console.log(n),0!==n.indexOf("#")){var i=$(t),o=$(t+" .modal-content");return i.off("show.bs.modal"),i.on("show.bs.modal",(function(){o.load(n)})).modal("show"),!1}})),$((function(){$("#notify").length&&($("#notify").slideDown(500),$(window).width()<768&&$(".app-body").animate({top:"+=36"},500),setTimeout((function(){$("#notify").slideUp(500),$(window).width()<768&&$(".app-body").animate({top:"-=36"},500)}),5e3))})),void 0!==$.fn.slimScroll){var n=$(window).height()-250,i=$(".sidebar-menu");i.slimscroll({height:n+"px",color:"rgba(0,0,0,0.5)",size:"4px",alwaysVisible:!1,borderRadius:"0",railBorderRadius:"0"});var o=$(".sidebarMenuScroll .sidebar-menu li.active")[0];if(o){var s=o.offsetTop;s>50&&i.slimscroll({scrollTo:s+"px"})}}e.selectator(t)}))}));
